<section data-ng-controller="AclResourceController" data-ng-init="findOne();">
    <alert ng-repeat="alert in alerts" type="alert.type" close="closeAlert($index)">{{alert.msg}}</alert>
    <form data-ng-submit="update()" class="aclRoleForm">
        <div class="form-group">
            <label for="ResourceCode" class="control-label">资源代码</label>
            <input type="text" class="form-control" data-ng-model="AclResource.resource_code" id="ResourceCode"
                   placeholder="资源名">
        </div>
        <div class="form-group">
            <label for="ResourceName" class="control-label">资源名称</label>
            <input type="text" class="form-control" data-ng-model="AclResource.resource_name" id="ResourceName"
                   placeholder="资源描述">
        </div>
        <div class="form-group">
            <label for="ResourceOrder" class="control-label">菜单顺序</label>
            <input type="number" class="form-control" data-ng-model="AclResource.resource_order" id="ResourceOrder"
                   placeholder="资源描述">
        </div>
        <div class="form-group">
            <label for="ResourceUrl" class="control-label">资源链接</label>
            <input type="text" class="form-control" data-ng-model="AclResource.resource_url" id="ResourceUrl"
                   placeholder="资源链接">
        </div>
        <div class="form-group">
            <div class="checkbox">
                <label><input type="checkbox" data-ng-model="AclResource._hasChildren" id="IsActive">父菜单？</label>
            </div>
        </div>
        <div data-ng-hide = "!AclResource._hasChildren" class="form-group">
            <label for="ChildResource" class="control-label">子资源</label>
            <select class="form-control" multiple
                    data-ng-controller="AclResourceController"
                    ui-select2="{containerCss:{padding:'0px',border:'none', height:'32px'}, allowClear: true}"
                    data-ng-init="find();"
                    data-ng-model="$parent.AclResource.children_resource" id="ChildResource" data-placeholder="选择资源">
                <option data-ng-repeat="rec in AclResource | filterEx:$parent.AclResource._id"
                        value="{{rec._id}}">{{rec.resource_name}}
                </option>
            </select>
        </div>

        <div class="form-group">
            <div class="checkbox">
                <label><input type="checkbox" data-ng-model="AclResource.is_active" id="IsActive">有效？</label>
            </div>
        </div>
        <div class="form-group">
            <input type="submit" class="btn btn-primary">
            <a href="/#!/AclResource" class="btn btn-default">资源列表</a>
        </div>

    </form>
</section>